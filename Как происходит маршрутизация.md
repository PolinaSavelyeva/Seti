
1. Узел накладывает свою (т.к. у него нет информации о чужих масках) маску на DA и сравнивает его сетевую часть со своей, если совпали, значит находятся в одной подсети и можно передать трафик без участия маршрутизаторов. Если не совпали, узел смотрит в свою таблицу маршрутизации и отправляет трафик по адресу, указанному в ней (по адресу маршрутизатора и чаще всего это будет стандартный адрес [[Gateway]]).

2. Трафик пришёл на маршрутизатор. Маршрутизатор не знает ничего о том, какую маску использует отправитель. Поэтому маршрутизатор проходится по всем записям своей таблицы маршрутизации (в записях указаны адреса вместе с масками), накладывает указанные в них маски на адрес записи и адрес отправителя и сравнивает. Если сетевые адреса совпали, значит найден следующий адрес перессылки и можно на него отправить трафик.

3. Если в таблице подходят несколько адресов, то выбирается тот, у которого длиннее маска.

[[Router]]
[[Network layer]]